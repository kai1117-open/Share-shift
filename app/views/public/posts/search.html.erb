<%= form_with url: search_public_posts_path, method: :get, local: true do |form| %>
  <div>
    <%= form.label :query, '検索キーワード' %>
    <%= form.text_field :query, value: params[:query], placeholder: 'タイトルまたは内容で検索' %>
  </div>
  <div>
    <%= form.submit '検索' %>
  </div>
<% end %>

<h2>検索結果</h2>

<% if @posts.any? %>
  <ul>
    <% @posts.each do |post| %>
      <li>
        <%= link_to post.title, public_post_path(post) %> - <%= post.created_at.strftime('%Y-%m-%d') %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>検索結果はありませんでした。</p>
<% end %>
